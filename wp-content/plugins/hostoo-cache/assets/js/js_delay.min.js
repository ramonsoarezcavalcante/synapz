const hostoo_ui_events = ["mouseover", "click", "keydown", "wheel", "touchmove", "touchstart"]; var hostoo_delay_i = 0, urlCreator = window.URL || window.webkitURL; function hostoo_load_delayed_js_forced() { console.log("[Hostoo] Start Load JS Delayed"), hostoo_ui_events.forEach(function (e) { window.removeEventListener(e, hostoo_load_delayed_js_forced, { passive: !0 }) }), hostoo_load_delayed_js(!0), document.querySelectorAll("iframe[data-hostoo-src]").forEach(function (e) { e.setAttribute("src", e.getAttribute("data-hostoo-src")) }) } function hostoo_load_delayed_js(e) { e && console.log("[Hostoo] Force running delayed JS"), hostoo_load_one() } function hostoo_inline2src(t) { try { var d = urlCreator.createObjectURL(new Blob([t.replace(/^(?:<!--)?(.*?)(?:-->)?$/gm, "$1")], { type: "text/javascript" })) } catch (e) { d = "data:text/javascript;base64," + btoa(t.replace(/^(?:<!--)?(.*?)(?:-->)?$/gm, "$1")) } return d } function hostoo_load_one() { hostoo_delay_i++; var t, d = document.querySelector('script[type="hostoo/javascript"][data-i="' + hostoo_delay_i + '"]'); d ? (console.log("[Hostoo] Load i=" + d.getAttribute("data-i"), "-----", d), (t = document.createElement("script")).addEventListener("load", function () { console.log("[Hostoo] loaded --- " + t.getAttribute("data-i")), hostoo_load_one() }, { passive: !0 }), t.addEventListener("error", function () { console.log("[Hostoo] loaded error! --- " + t.getAttribute("data-i")), hostoo_load_one() }, { passive: !0 }), d.getAttributeNames().forEach(function (e) { "type" != e && t.setAttribute("data-src" == e ? "src" : e, d.getAttribute(e)) }), t.type = "text/javascript", !t.src && d.textContent && (t.src = hostoo_inline2src(d.textContent)), d.after(t), d.remove()) : console.log("[Hostoo] All loaded!") } hostoo_ui_events.forEach(function (e) { window.addEventListener(e, hostoo_load_delayed_js_forced, { passive: !0 }) });